# FAQ

> 当前版本：Version 1.4.1 Release 230215

## 关于 fileread

> 仅适用于 Public 及其衍生版本。

![fileread 逻辑图](https://github.com/PumpkinJui/Selector/blob/main/Tools%26EXPs/fileread/1.4.1/fileread.png)

- 在本仓库中，“fileread” 特指在 Public 及其衍生版本中使用的名称列表读取行为。
- 上图为本程序的 fileread 逻辑图。它也可以在 [这里](https://github.com/PumpkinJui/Selector/tree/main/Tools%26EXPs/fileread) 找到。  
  *我知道它基本没有按照流程图的规则来写，但我觉得…… 什么平行四边形表示输入输出、菱形表示判断都一边去吧 ~~，我实在懒得一点一点修了~~*

### 未能正常使用给定的名称列表

- 从 Version 1.1 Release 开始，我对 fileread 逻辑进行了多番调整，以确保能够基本正常读取用户给定的名称列表。但如果出现了意料之外的情况，可能仍会自动使用备用列表运行。

#### 原因及解决方法

请检查以下项目：

- 程序是否弹出了任何消息框？
  
  - 如果程序在读取名称列表时遇到编码无法识别或空文件，将会弹出消息框。
  - 请查看消息框中显示的内容。  
    如果提示为编码无法识别，请使用记事本打开文件，然后选择 “文件” 中的 “另存为” 选项，将保存路径选至程序所在目录。然后将编码改为 “ANSI” 或 “UTF-8”，点击 “保存”。如果询问您是否替换，请选择 “是”。
  - 如果提示为空文件，请使用记事本打开文件，输入内容并保存。
  - 如果提示为不包含有效的抽取内容，请使用记事本打开文件，输入有效的内容并保存。“有效” 指不是空行，也不以 “%%%” 开头的一行。

- 名称列表文件是否命名错误？
  
  - [Issue #6](https://github.com/PumpkinJui/Selector/issues/6) 让我头疼不已，甚至重制了两次 fileread 逻辑。然而事实最终证明，那只是因为名称列表文件命名错了。
  
  - 自 Version 1.4.1 Release 起，名称列表文件被包含在了 .zip 版本的程序中。
  
  - 请检查您是否将 “list.txt” 写为了 “lixt.txt” 或者其他东西。
  
  - 请检查您是否开启了 “隐藏已知文件类型的扩展名” 选项。要进行检查，请按以下任一项中的步骤操作：
    
    - 打开 Windows 文件资源管理器，点击上方的 “查看” 选项卡，点击 “选项”，切换到其中的 “查看” 选项卡。(不适用于 Windows 11)
    
    - 打开 Windows 文件资源管理器，点击上方的 “查看” 选项卡，在 “显示 / 隐藏” 中检查其中的 “文件扩展名” 一项。(仅 Windows 10)
    
    - 打开 Windows 文件资源管理器，点击上方右侧的三点符号，点击 “选项”，切换到其中的 “查看” 选项卡。(仅 Windows 11)
    
    如果该选项处于开启状态，操作系统将会隐去 “.txt” 扩展名。您极有可能将名称列表文件命名成了 “list.txt.txt”。请删除一个 “.txt”。

- 如果您并未检查出任何问题或者问题不在此列表中，请 [进行反馈](#%E5%8F%8D%E9%A6%88)。
  一般而言，这种情况下程序将会报出 “未知错误”(见下) 并引导您进行反馈。如果并未发现此错误报出，您可能需要重新检查前两项。

### 程序提示 “未知错误”

> 仅适用于 Version 1.4 Release 及以上的 Public 版本。

- 这意味着程序在 fileread 中遇到了未知错误。请 [进行反馈](#%E5%8F%8D%E9%A6%88)。
- 反馈时请附上程序自动保存的错误信息以方便排查，并最好附上一段完整的录屏以方便复现。

## 关于字体

- 本程序指定了 [显示字体](https://github.com/PumpkinJui/Selector/blob/main/README.md#%E4%BD%BF%E7%94%A8%E7%9A%84%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7)，至少需要系统内安装有该字体的 Regular 字重才可以正常显示。

### 未能正常显示字体

- 大多数情况下，这是因为您没有安装该字体家族，或安装了该字体家族但并未安装该字重。
  
  - 对于 Version 1.4 Release 之前的版本，请自行下载并安装字体。
  - 自 Version 1.4 Release 起，字体文件被包含在了 .zip 版本的程序中，但仍需要手动安装。而 .exe 格式的程序仍然需要自行下载并安装字体。

- 如果安装了该字体家族但未安装该字重，程序将自动使用该字体家族的另外一个字重替代显示。*但尚不确定程序如何选择该字重。*  
  开发者测试结果，如果仅未安装 Regular 字重，将会使用 Italic 字重来替代显示。

- 如果未安装该字体家族，程序将自动使用系统内的某个字体替代显示。*但尚不确定程序如何选择该字体。*  
  开发者测试结果，将会使用宋体替代显示。

## 关于音效

> 仅适用于 Version 1.4 Release 及以上的版本。

- 本程序自 Version 1.4 Release 起加入了音效，仅适用于自动模式。
- 中间音效的文件名为 “Successful_Hit.wav”，最终音效的文件名为 “Random_levelup.wav”。

### 无法听到任何音效

请检查以下项目：

- 程序中是否有音效开关？
  
  - 如果没有，您可能位于更低的版本。右键程序并选择 “属性”，切换到 “详细信息” 选项卡。如果您发现文件版本、产品版本或原始文件名中的版本低于 1.4，请在 [本项目的 Releases 页面](https://github.com/PumpkinJui/Selector/releases) 重新下载。如果您发现程序不低于 1.4 版本却并未看到音效开关，请 [进行反馈](#%E5%8F%8D%E9%A6%88)。

- 音效开关是否为灰色且选中了 “音效关”？
  
  - 这意味着程序并未加载任何音效，可能由音效文件不存在或音效文件损坏导致。如果是 .zip 格式版本的程序，请检查压缩包是否损坏、压缩包是否没有完全解压缩及音效文件是否损坏；如果是 .exe 格式版本的程序，请 [下载音效](https://github.com/PumpkinJui/Selector/releases/tag/1.4)。

- 音效开关是否为灰色且选中了 “音效开”？
  
  - 这意味着您处于手动模式。音效仅适用于自动模式，请切换模式后使用。

### 只能听到一部分音效

- 即使仅加载了部分音效，本程序的音效功能也可以使用。
  - 如果您仅能在最后一次抽取完毕时听到最终音效，这可能是因为程序仅加载了最终音效。请检查中间音效文件是否存在，存在时能否播放。
  - 如果您在最后一次抽取完毕时听到了连续三声 “叮”，这可能是因为程序仅加载了中间音效。请检查最终音效文件是否存在，存在时能否播放。

## 反馈

- 如果以上内容没有解决您的问题，亦或想要询问任何问题、提出任何建议或汇报任何漏洞，请在 [本项目的 Issues 页面](https://github.com/PumpkinJui/Selector/issues) 反馈，或 [发邮件到 feedback@pumpkinjui.aleeas.com](mailto:feedback@pumpkinjui.aleeas.com)。
